<!DOCTYPE html>
<html lang="kr">
	<head>
		<meta charset="UTF-8">
		<title>추천 식당</title>
        <style type="text/css">
            #listContainer {
            width: 500px;
            }
        </style>
	</head>
	<body>
		<script>
            var category = "한식";

            const restListContainer = document.getElementById("listContainer");

            fetch('restaurant.json')
                .then(res => res.json())
                .then(json => showList(json));

            function showList(j) {
                categoryList(j, category);

                function categoryList(data, value) { //카테고리별 음식점
                    var rests = data.DATA.filter(function (obj) {
                        return obj[uptaenm] === value;
                    });
                    showRest(rests);
                }

                function showRest(data) {
                    for (let i = 0; i < data.length; i++) {
                        let restElement = createRest(i);
                        restListContainer.appendChild(restElement);
                    }
                }

                function createRest(n) {
                    let restDiv = document.createElement('div');
                    restDiv.className = 'restList';
                    restDiv.id = 'r ' + n;
                    restDiv.style.background = "white";
                    restDiv.style.border = "5px solid black";
                    let restInfo = document.createElement('p');
                    restInfo.innerHTML = json.DATA[n].bplcnm + "<br>종류: " + json.DATA[n].uptaenm + "<br>주소: " + json.DATA[n].sitewhladdr;
                    restDiv.appendChild(restInfo);
                    restInfo.style.textAlign = "center";
                    restInfo.style.position = "relative";
                    return restDiv;
                }
            }
        </script>
	</body>
</html>